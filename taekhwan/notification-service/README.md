# 플랫폼 업데이트 알림 서비스

이 프로젝트는 Chrome 등 주요 플랫폼의 중요 업데이트를 감지하여 알림을 제공하는 서비스입니다.

## 핵심 로직

- `scraper.py`: `Selenium`과 `BeautifulSoup`을 사용하여 대상 사이트의 게시물 제목과 URL을 스크레이핑합니다.
- `main.py`: `scraper.py`를 주기적으로 호출하고, 이전에 확인된 게시물과 비교하여 새로운 게시물이 올라오면 콘솔에 알림을 출력합니다.

---

## 로컬 환경에서 실행하는 방법

### 1. 사전 준비

- **Python (3.8 이상 권장)**
- **Google Chrome 브라우저**

### 2. 프로젝트 설정

```bash
# 1. (권장) 파이썬 가상 환경을 생성하고 활성화합니다.
# python -m venv venv
# venv\Scripts\activate

# 2. 필요한 라이브러리를 설치합니다.
pip install -r requirements.txt
```

### 3. 서비스 실행

아래 명령어로 실시간 감시 서비스를 시작합니다. 서비스는 종료하기 전까지 계속 실행됩니다.

```bash
python main.py
```

> **참고:** 실행 중인 서비스를 종료하려면 터미널에서 `Ctrl+C`를 누르세요.

---

## 실시간 감시 기능 (서비스 모드)

단순 스크레이핑 기능을 넘어, 새로운 게시물을 지속적으로 감시하고 알림을 제공하는 서비스 모드를 구현했습니다.

### 기술적 배경: 왜 주기적인 확인(Polling) 방식을 사용하는가?

가장 이상적인 실시간 알림은 서버가 "새 글이 등록됐다"고 알려주는 '푸시(Push)' 방식입니다. 하지만 대부분의 웹사이트는 이런 기능을 외부 개발자에게 제공하지 않습니다.

- **웹훅 (Webhook)**: '푸시' 방식의 대표적인 예입니다. 특정 이벤트(예: GitHub에 코드 푸시)가 발생하면 지정된 URL로 서버가 먼저 데이터를 보내줍니다. 만약 블로그에 이런 기능이 있었다면 즉각적인 알림이 가능했겠지만, 현재 대상 사이트는 이를 지원하지 않습니다.

- **RSS 피드**: 웹훅의 대안으로, 많은 블로그는 콘텐츠 배포를 위해 RSS라는 표준화된 형식의 주소를 제공합니다. 이는 전체 웹페이지를 읽는 것보다 훨씬 가볍고 효율적이라, 주기적으로 확인하기에 부담이 적습니다. 하지만 조사 결과, 현재 Chrome 개발자 블로그는 공식적인 RSS 피드를 제공하지 않는 것으로 확인되었습니다 (과거에 존재했던 URL은 현재 404 오류).

- **폴링 (Polling)**: 위 두 방법이 불가능하므로, 현재 스크립트는 주기적으로 사이트를 직접 방문하여 변경 사항이 있는지 확인하는 '폴링' 방식을 사용합니다. 이는 구현 가능한 유일한 대안이지만, 실시간이 아니며 확인 주기만큼의 지연이 발생한다는 특징이 있습니다.

### 동작 방식
- 스크립트를 실행하면, 먼저 현재 게시물들을 "기준"으로 삼아 `seen_posts.txt` 파일에 저장합니다. (첫 실행 시 모든 글에 대해 알림이 오는 것을 방지)
- 이후 무한 루프에 진입하여, `main.py`에 설정된 `CHECK_INTERVAL_SECONDS` 값(기본 1시간)마다 블로그에 새로운 게시물이 있는지 확인합니다.
- 새로운 게시물을 발견하면, 콘솔에 제목과 URL을 출력하여 알림을 제공합니다.

### 설정
- **확인 주기 변경**: `main.py` 파일 상단의 `CHECK_INTERVAL_SECONDS` 변수 값을 원하는 초 단위로 수정하여 새 글 확인 주기를 변경할 수 있습니다. (단, 너무 짧은 주기는 서버에 부담을 줄 수 있으므로 주의해야 합니다.)

---

## 트러블슈팅 가이드

### 스크레이퍼가 작동하지 않는 경우

`Could not fetch posts.` 메시지가 출력되거나 스크레이퍼가 실패하는 경우, 이는 대상 웹사이트의 HTML 구조가 변경되었을 가능성이 높습니다. 아래는 실제 문제 해결 과정을 기록한 내용으로, 향후 유사한 문제 발생 시 참고 자료로 활용할 수 있습니다.

1.  **문제 상황**: `python main.py` 실행 시, 오류 메시지 없이 `Could not fetch posts.` 만 출력되며 제목을 가져오지 못함.
2.  **원인 분석**: `scraper.py`에 디버깅 코드를 추가하여 단계별로 확인한 결과, 게시물 카드(`devsite-card-wrapper`)는 정상적으로 찾았으나, 그 안에서 제목 태그(`h2`)를 찾는 데 실패함을 확인.
3.  **최종 해결**: HTML 소스를 정밀 분석한 결과, 게시물 제목이 `<h2>` 태그가 아닌, 상위 `<div>` 태그의 `displaytitle` 속성값으로 제공되고 있음을 발견. `post['displaytitle']` 과 같이 속성에서 직접 제목과 URL(`post['url']`)을 추출하도록 로직을 변경하여 해결.
4.  **향후 대응**: 만약 스크레이퍼가 또다시 실패한다면, `scraper.py`의 `except` 블록에 있는 디버깅 파일 생성 로직을 활용하여 `debug_page_source.html`을 확보하고, 변경된 HTML 구조를 분석하여 `scraper.py`를 수정해야 합니다.